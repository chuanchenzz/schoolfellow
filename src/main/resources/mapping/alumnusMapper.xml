<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chuanchen.dao.AlumnusMapper">
    <resultMap type="com.chuanchen.entity.Alumnus" id="BaseResult">
        <id property="id" column="id" jdbcType="INTEGER"/>
        <result property="name" column="username" jdbcType="VARCHAR"/>
        <result property="sex" column="sex" typeHandler="com.chuanchen.typehandler.SexTypeHandler"/>
        <result property="identity" column="identity_number" typeHandler="com.chuanchen.typehandler.CodeTypeHandler"/>
        <result property="idCard" column="id_card" jdbcType="VARCHAR"/>
        <result property="birthday" column="birthday" typeHandler="com.chuanchen.typehandler.DateTypeHandler"/>
        <result property="birthPlace" column="birthplace_number" typeHandler="com.chuanchen.typehandler.CodeTypeHandler"/>
        <result property="address" column="address" jdbcType="VARCHAR"/>
        <result property="phone" column="phone" jdbcType="VARCHAR"/>
        <result property="email" column="email" jdbcType="VARCHAR"/>
        <result property="education" column="education_number" typeHandler="com.chuanchen.typehandler.CodeTypeHandler"/>
        <result property="entranceAge" column="entrance_age" typeHandler="com.chuanchen.typehandler.DateTypeHandler"/>
        <result property="graduteAge" column="gradute_age" typeHandler="com.chuanchen.typehandler.DateTypeHandler"/>
        <result property="instructor" column="instructor" jdbcType="VARCHAR"/>
        <result property="academic" column="academic" jdbcType="VARCHAR"/>
        <result property="profession" column="profession" jdbcType="VARCHAR"/>
        <result property="classs" column="classs" jdbcType="VARCHAR"/>
        <result property="workAddress" column="work_address_number" typeHandler="com.chuanchen.typehandler.CodeTypeHandler"/>
        <result property="inductive" column="inductive_age" typeHandler="com.chuanchen.typehandler.DateTypeHandler"/>
        <result property="organization" column="organization" jdbcType="VARCHAR"/>
        <result property="industry" column="industry_number" typeHandler="com.chuanchen.typehandler.CodeTypeHandler"/>
        <result property="organizationNature" column="organization_nature_number" typeHandler="com.chuanchen.typehandler.CodeTypeHandler"/>
        <result property="department" column="department" jdbcType="VARCHAR"/>
        <result property="job" column="job" jdbcType="VARCHAR"/>
        <result property="studentNumber" column="student_number" jdbcType="VARCHAR"/>
    </resultMap>
    <select id="isAlumnusExist" parameterType="java.lang.String">
        select count(*) from alumnus where student_number = #{studentNumber} and username = #{name};
    </select>
    <select id="getAlumnusById" parameterType="java.lang.Integer" resultMap="BaseResult">
        select * from alumnus where id = #{id};
    </select>
    <select id="findAlumnuses" resultMap="BaseResult">
        select * from alumnus limit #{begin},#{limit};
    </select>
    <select id="getAlumnusCount" >
        select count(*) from alumnus;
    </select>
    <delete id="deleteAlumusById" parameterType="java.lang.Integer">
        delete from alumnus where id = #{id};
    </delete>
</mapper>